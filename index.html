<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Beginning</title>
    <style>
        :root {
            --sky-color: #000814;
            --sun-left: 50%;
            --sun-bottom: -150px;
            --sun-opacity: 0;
            --sun-color: #ff3300;
            --sun-glow: #ffcc00;
        }

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            background-color: #000;
        }

        .sky {
            width: 100%;
            height: 100vh;
            background-color: var(--sky-color);
            transition: background-color 3.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* The Sun Link */
        #sun-link {
            position: absolute;
            left: var(--sun-left);
            bottom: var(--sun-bottom);
            transform: translateX(-50%);
            z-index: 5;
            pointer-events: none; /* Disabled until stabilized */
            cursor: pointer;
            text-decoration: none;
            transition: bottom 3s ease-out, left 3s ease-out;
        }

        .sun {
            width: 130px;
            height: 130px;
            background-color: var(--sun-color);
            border-radius: 50%;
            opacity: var(--sun-opacity);
            box-shadow: 0 0 60px var(--sun-glow), 0 0 120px rgba(255, 255, 255, 0.2);
            transition: background-color 3s ease, opacity 2s ease, transform 0.4s ease, box-shadow 3s ease;
        }

        #sun-link:hover .sun {
            transform: scale(1.1);
            box-shadow: 0 0 100px var(--sun-glow), 0 0 150px rgba(255, 255, 255, 0.4);
        }

        /* Landscape */
        .horizon {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 20vh;
            background: linear-gradient(to bottom, #0d1a0d 0%, #000000 100%);
            z-index: 10;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }
    </style>
</head>
<body>

    <div class="sky" id="sky-bg">
        <a href="" id="sun-link" target="_blank">
            <div class="sun"></div>
        </a>
        <div class="horizon"></div>
    </div>

    <script>
        function updateEnvironment() {
            const now = new Date();
            const hrs = now.getHours();
            const mins = now.getMinutes();
            const totalMins = (hrs * 60) + mins;

            // Daylight Window: 6:00 AM to 7:00 PM
            const sunrise = 360; 
            const sunset = 1140; 
            const sunLink = document.getElementById('sun-link');

            if (totalMins >= sunrise && totalMins <= sunset) {
                const dayProgress = (totalMins - sunrise) / (sunset - sunrise);
                
                // 1. Arc Positioning
                const leftPos = 10 + (dayProgress * 80);
                const heightFactor = -4 * Math.pow((dayProgress - 0.5), 2) + 1;
                const bottomPos = (heightFactor * 65) + 15; 

                // 2. SUN COLOR: Red -> Yellow -> Bright Yellow-White
                // HeightFactor 0 (Horizon) = Red
                // HeightFactor 0.5 = Pure Yellow
                // HeightFactor 1 (Peak) = Yellowish White
                let r = 255;
                let g = Math.floor(100 + (155 * heightFactor)); // Increases green for yellow
                let b = Math.floor(200 * Math.pow(heightFactor, 2)); // Adds blue only at peak for white
                const sunColor = `rgb(${r}, ${g}, ${b})`;
                const sunGlow = `rgba(${r}, ${g}, 0, 0.8)`;

                // 3. SKY COLOR: Reacts to sun height and time
                let skyColor;
                if (dayProgress < 0.15 || dayProgress > 0.85) {
                    // Sunrise/Sunset: Deep Orange/Pink
                    skyColor = "linear-gradient(to top, #ff7e5f, #feb47b)"; 
                } else if (dayProgress < 0.3 || dayProgress > 0.7) {
                    // Morning/Evening: Light Blue-Gold
                    skyColor = "#8ecae6";
                } else {
                    // High Noon: Rich Sky Blue
                    skyColor = "#219ebc";
                }

                // Apply to Styles
                document.documentElement.style.setProperty('--sun-left', leftPos + "%");
                document.documentElement.style.setProperty('--sun-bottom', bottomPos + "%");
                document.documentElement.style.setProperty('--sun-opacity', "1");
                document.documentElement.style.setProperty('--sun-color', sunColor);
                document.documentElement.style.setProperty('--sun-glow', sunGlow);
                document.getElementById('sky-bg').style.background = skyColor;

                // Enable link after the 3s rise
                setTimeout(() => {
                    sunLink.style.pointerEvents = "auto";
                }, 3000);

            } else {
                // Night Phase
                document.documentElement.style.setProperty('--sun-opacity', "0");
                document.getElementById('sky-bg').style.background = "#023047";
                sunLink.style.pointerEvents = "none";
            }
        }

        window.onload = updateEnvironment;
        setInterval(updateEnvironment, 60000);
    </script>
</body>
</html>
